# Agent Integration Examples

_This file is generated by `scripts/generate-snippets.mjs`. Do not edit manually._

These examples are generated from one canonical fixture:
- `docs/fixtures/ship-note.schema.v1.json`

## Canonical request
```json
{
  "repo": "alex-builds-source/ship-note",
  "preset": "standard",
  "destination": "release",
  "includeWhy": false,
  "baseRef": "v0.1.10",
  "targetRef": "v0.1.11",
  "releaseUrl": "https://github.com/alex-builds-source/ship-note/releases/tag/v0.1.11"
}
```

## Canonical response
```json
{
  "ok": true,
  "schema_version": "1.0",
  "repo": {
    "name": "alex-builds-source/ship-note",
    "url": "https://github.com/alex-builds-source/ship-note"
  },
  "range": {
    "base_ref": "v0.1.10",
    "target_ref": "v0.1.11",
    "range_spec": "v0.1.10..v0.1.11"
  },
  "options": {
    "preset": "standard",
    "group_by": "type",
    "destination": "release",
    "include_why": false
  },
  "stats": {
    "raw_commit_count": 1,
    "selected_commit_count": 1,
    "commit_items_used": 1,
    "changelog_items_used": 0,
    "bullet_line_count": 1
  },
  "sections": {
    "title": "# ship-note release draft",
    "what_shipped": [
      "- Make why-section optional and ship v0.1.11"
    ],
    "why_it_matters": [],
    "links": [
      "- Repo: https://github.com/alex-builds-source/ship-note",
      "- Release: https://github.com/alex-builds-source/ship-note/releases/tag/v0.1.11"
    ]
  },
  "items": [
    {
      "source": "commit",
      "text": "make why-section optional and ship v0.1.11",
      "sha": "a1b2c3d",
      "type": "other",
      "scope": "general"
    }
  ],
  "markdown": "# ship-note release draft\n\n## What shipped\n- Make why-section optional and ship v0.1.11\n\n## Links\n- Repo: https://github.com/alex-builds-source/ship-note\n- Release: https://github.com/alex-builds-source/ship-note/releases/tag/v0.1.11\n"
}
```

## cURL
```bash
#!/usr/bin/env bash
set -euo pipefail

curl -sS -X POST 'https://ship-note-web.pages.dev/api/generate' \
  -H 'content-type: application/json' \
  -d '{
  "repo": "alex-builds-source/ship-note",
  "preset": "standard",
  "destination": "release",
  "includeWhy": false,
  "baseRef": "v0.1.10",
  "targetRef": "v0.1.11",
  "releaseUrl": "https://github.com/alex-builds-source/ship-note/releases/tag/v0.1.11"
}' | jq .
```

## Python
```python
import requests

URL = "https://ship-note-web.pages.dev/api/generate"
payload = {
  "repo": "alex-builds-source/ship-note",
  "preset": "standard",
  "destination": "release",
  "includeWhy": false,
  "baseRef": "v0.1.10",
  "targetRef": "v0.1.11",
  "releaseUrl": "https://github.com/alex-builds-source/ship-note/releases/tag/v0.1.11"
}

response = requests.post(URL, json=payload, timeout=30)
response.raise_for_status()
data = response.json()
print(data["schema_version"])
print(data["sections"]["what_shipped"])
```

## JavaScript
```javascript
const url = "https://ship-note-web.pages.dev/api/generate";
const payload = {
  "repo": "alex-builds-source/ship-note",
  "preset": "standard",
  "destination": "release",
  "includeWhy": false,
  "baseRef": "v0.1.10",
  "targetRef": "v0.1.11",
  "releaseUrl": "https://github.com/alex-builds-source/ship-note/releases/tag/v0.1.11"
};

const res = await fetch(url, {
  method: "POST",
  headers: { "content-type": "application/json" },
  body: JSON.stringify(payload),
});
if (!res.ok) throw new Error(`HTTP ${res.status}`);
const data = await res.json();
console.log(data.schema_version);
console.log(data.sections.what_shipped);
```
